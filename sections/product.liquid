{% comment %}
  This section is used in the product template to render product page with
  media, content, and add-to-cart form.

  https://shopify.dev/docs/storefronts/themes/architecture/templates/product
{% endcomment %}
{{ 'section-product.css' | asset_url | stylesheet_tag }}

<div class="product-page-container">

  <!-- Add Swiper.js library to your theme for this to become an active gallery -->
  <div class="swiper product-gallery-swiper">
    <div class="swiper-wrapper">
      {% for image in product.images %}
        <div class="swiper-slide">
          <div class="product-image-wrapper">
            {% render 'image', class: 'product-image', image: image, widths: '400, 600, 800, 1000' %}
          </div>
        </div>
      {% else %}
        {% for i in (1..2) %}
          <div class="swiper-slide">
            <div class="product-image-wrapper">
              {{ 'product-' | append: i | placeholder_svg_tag: 'placeholder-svg' }}
            </div>
          </div>
        {% endfor %}
      {% endfor %}
    </div>
    <div class="swiper-pagination"></div>
    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>
  </div>

  <div class="product-details">
    <div class="breadcrumbs">
      <a href="{{ routes.collections_url }}">Catalog</a> / <span>{{ product.title }}</span>
    </div>

    <div class="product-header">
      <h1>{{ product.title | default: "Matte Lip Kit" }}</h1>
      <button class="wishlist-button" aria-label="Add to wishlist">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="28" height="28">
          <path d="M12.001 4.52853C10.3211 2.73792 7.69897 2.73792 6.01907 4.52853C4.33917 6.31914 4.33917 9.13591 6.01907 10.9265L12.001 17.272L17.9829 10.9265C19.6628 9.13591 19.6628 6.31914 17.9829 4.52853C16.303 2.73792 13.6808 2.73792 12.001 4.52853Z" />
        </svg>
      </button>
    </div>

    <p class="price">{{ product.price | money | default: "$35.00 USD" }}</p>

    {% form 'product', product, class: 'product-form' %}
      <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">

      {% for option in product.options_with_values %}
        <div class="product-option-group">
          <label class="product-option-label">{{ option.name }}: <span class="selected-option-value">{{ option.selected_value }}</span></label>
          <div class="product-option-values">
            {% if option.name == 'Color' %}
              {% for value in option.values %}
                {%- liquid
                  assign color_name = value | downcase
                  assign bg_color = ''

                  if color_name == 'black titanium'
                    assign bg_color = '#2B2B2B'
                  elsif color_name == 'desert titanium'
                    assign bg_color = '#C4B7A6'
                  elsif color_name == 'natural titanium'
                    assign bg_color = '#8A8A8D'
                  elsif color_name == 'white titanium'
                    assign bg_color = '#F5F5F7'
                  else
                    assign bg_color = value | downcase | replace: ' ', ''
                  endif
                -%}
                <div
                        class="color-swatch {% if option.selected_value == value %}selected{% endif %}"
                        style="background-color: {{ bg_color }};"
                        title="{{ value }}"
                        data-value="{{ value | escape }}">
                </div>
              {% endfor %}
            {% else %}
              {% for value in option.values %}
                <div
                        class="size-swatch {% if option.selected_value == value %}selected{% endif %}"
                        data-value="{{ value | escape }}">
                  {{ value }}
                </div>
              {% endfor %}
            {% endif %}
          </div>
        </div>
      {% endfor %}

      <button type="submit" class="add-to-cart-btn">Add to cart</button>
      {{ form | payment_button }}
    {% endform %}

    <div class="product-description">
      <p>{{ product.description | default: "Our best-selling matte lip kit is your ready-to-go lip routine for a long-lasting, matte lip. This matte liquid lipstick and lip liner duo feature highly pigmented, 8+ hour wear formulas that offer full coverage payoff with a smudge-resistant finish." }}</p>
    </div>

    <div class="product-accordions">
      <details>
        <summary>Size guide <span class="chevron"></span></summary>
        <div class="accordion-content">
          <p>Details about sizing will be here.</p>
        </div>
      </details>
      <details>
        <summary>Model's size <span class="chevron"></span></summary>
        <div class="accordion-content">
          <p>Information about the model's size will be here.</p>
        </div>
      </details>
      <details>
        <summary>Details <span class="chevron"></span></summary>
        <div class="accordion-content">
          <p>Further product details will be here.</p>
        </div>
      </details>
      <details>
        <summary>Care guide <span class="chevron"></span></summary>
        <div class="accordion-content">
          <p>Instructions on how to care for the product will be here.</p>
        </div>
      </details>
    </div>
  </div>
</div>
